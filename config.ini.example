# Пример файла конфигурации NTRIP Caster
# Скопируйте этот файл как config.ini и измените конфигурацию по необходимости

[NTRIP]
# Конфигурация сервера NTRIP
host = 0.0.0.0
port = 2101
max_connections = 1000
connection_timeout = 30
data_timeout = 60

# Информация о сервере
server_name = 2RTK NTRIP Caster
server_version = 2.1.8
server_description = High-performance NTRIP Caster with RTCM parsing

[WEB]
# Конфигурация веб-интерфейса управления
host = 0.0.0.0
port = 5757
debug = false
secret_key = your-secret-key-change-this

# Конфигурация сессий
session_timeout = 3600
remember_me_duration = 2592000

[DATABASE]
# Конфигурация базы данных
type = sqlite
path = /app/data/2rtk.db

# Конфигурация пула подключений (только для PostgreSQL/MySQL)
# host = localhost
# port = 5432
# username = ntrip
# password = your-password
# database = ntrip_caster
# pool_size = 10
# max_overflow = 20

[LOGGING]
# Конфигурация логирования
level = INFO
max_size = 50MB
max_files = 5
log_format = %(asctime)s - %(name)s - %(levelname)s - %(message)s

# Пути к файлам логов
main_log = /app/logs/main.log
ntrip_log = /app/logs/ntrip.log
error_log = /app/logs/errors.log

[SECURITY]
# Конфигурация безопасности
enable_rate_limiting = true
max_requests_per_minute = 60
max_login_attempts = 5
lockout_duration = 300

# Белый список IP (опционально, оставьте пустым для разрешения всех IP)
allowed_ips = 

# Чёрный список IP
blocked_ips = 

[RTCM]
# Конфигурация обработки данных RTCM
enable_parsing = true
max_message_size = 1024
buffer_size = 4096

# Поддерживаемые типы сообщений RTCM
supported_messages = 1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1019,1020,1033,1074,1075,1076,1077,1084,1085,1086,1087,1094,1095,1096,1097,1124,1125,1126,1127,1230

[PERFORMANCE]
# Конфигурация производительности
thread_pool_size = 100
max_queue_size = 1000
enable_compression = true
compression_level = 6

# Конфигурация кэша
enable_cache = true
cache_size = 1000
cache_ttl = 300

[MONITORING]
# Конфигурация мониторинга
enable_metrics = true
metrics_port = 9090
metrics_path = /metrics

# Проверка здоровья
health_check_interval = 30
health_check_timeout = 10

[WEBSOCKET]
# Конфигурация WebSocket (для отправки данных в реальном времени)
enable_websocket = true
ping_interval = 25
ping_timeout = 60
max_message_size = 1048576

# Конфигурация CORS удалена (исправление уязвимости безопасности)
# cors_allowed_origins = *

[BACKUP]
# Конфигурация резервного копирования данных
enable_auto_backup = true
backup_interval = 86400
backup_retention = 7
backup_path = /app/data/backups

[ALERTS]
# Конфигурация оповещений
enable_alerts = false
smtp_server = smtp.gmail.com
smtp_port = 587
smtp_username = your-email@gmail.com
smtp_password = your-app-password
alert_recipients = admin@example.com

# Пороговые значения оповещений
max_connection_threshold = 900
high_cpu_threshold = 80
high_memory_threshold = 80
disk_space_threshold = 90

[FEATURES]
# Переключатели функций
enable_user_registration = false
enable_mount_point_auto_discovery = true
enable_statistics = true
enable_real_time_monitoring = true

# Экспериментальные функции
enable_clustering = false
enable_load_balancing = false

[ADVANCED]
# Расширенная конфигурация
tcp_keepalive = true
tcp_nodelay = true
socket_timeout = 30
buffer_size = 8192

# Системные ограничения
max_memory_usage = 1073741824  # 1GB
max_cpu_usage = 80
max_disk_usage = 90

# Опции отладки
enable_debug_mode = false
debug_log_level = DEBUG
enable_profiling = false